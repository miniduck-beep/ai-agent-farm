# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é - AI Agent Farm

> **Comprehensive —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã**

## üìã –û–±–∑–æ—Ä

AI Agent Farm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ pytest, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è —Ç–µ—Å—Ç–æ–≤:
- **Unit —Ç–µ—Å—Ç—ã** - –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Integration —Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏  
- **End-to-End —Ç–µ—Å—Ç—ã** - –ø–æ–ª–Ω—ã–µ —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã workflow

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
pip install pytest pytest-asyncio httpx pytest-mock pytest-cov

# –ò–ª–∏ —á–µ—Ä–µ–∑ Makefile
make install-dev
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫
pytest

# –ò–ª–∏ —á–µ—Ä–µ–∑ Makefile
make test
```

## üéØ –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

### 1. Unit —Ç–µ—Å—Ç—ã (`tests/unit/`)
**–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤  
**–°–∫–æ—Ä–æ—Å—Ç—å:** –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–µ (< 1 —Å–µ–∫ –Ω–∞ —Ç–µ—Å—Ç)  
**–ò–∑–æ–ª—è—Ü–∏—è:** –ü–æ–ª–Ω–∞—è, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–∫–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç–æ–≤
make test-unit
# –∏–ª–∏
pytest -m unit
```

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ API endpoints –∏ –∏—Ö –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Pydantic –º–æ–¥–µ–ª–∏
- ‚úÖ –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 2. Integration —Ç–µ—Å—Ç—ã (`tests/integration/`)
**–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏  
**–°–∫–æ—Ä–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω–∏–µ (1-5 —Å–µ–∫ –Ω–∞ —Ç–µ—Å—Ç)  
**–ò–∑–æ–ª—è—Ü–∏—è:** –ß–∞—Å—Ç–∏—á–Ω–∞—è, —Ä–µ–∞–ª—å–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ integration —Ç–µ—Å—Ç–æ–≤
make test-integration
# –∏–ª–∏
pytest -m integration
```

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ –§–∞–±—Ä–∏–∫–∞ –∫–æ–º–∞–Ω–¥ –∞–≥–µ–Ω—Ç–æ–≤ (CrewFactory)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API —Å Celery
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∫–æ–º–∞–Ω–¥

### 3. End-to-End —Ç–µ—Å—Ç—ã (`tests/e2e/`)
**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤  
**–°–∫–æ—Ä–æ—Å—Ç—å:** –ú–µ–¥–ª–µ–Ω–Ω—ã–µ (5-30 —Å–µ–∫ –Ω–∞ —Ç–µ—Å—Ç)  
**–ò–∑–æ–ª—è—Ü–∏—è:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–æ –∫ production

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ e2e —Ç–µ—Å—Ç–æ–≤
make test-e2e
# –∏–ª–∏
pytest -m e2e
```

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:**
- ‚úÖ –ü–æ–ª–Ω—ã–π workflow: —Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∫–æ–º–∞–Ω–¥ –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã

## ‚ö° –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
make test              # –í—Å–µ —Ç–µ—Å—Ç—ã
make test-fast         # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (–∏—Å–∫–ª—é—á–∞–µ—Ç slow)
make test-coverage     # –¢–µ—Å—Ç—ã —Å –æ—Ç—á–µ—Ç–æ–º –ø–æ–∫—Ä—ã—Ç–∏—è
make clean             # –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
```

### –î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã pytest
```bash
# –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
pytest -m unit                    # –¢–æ–ª—å–∫–æ unit
pytest -m integration             # –¢–æ–ª—å–∫–æ integration  
pytest -m e2e                     # –¢–æ–ª—å–∫–æ e2e
pytest -m "not slow"              # –ò—Å–∫–ª—é—á–∏—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ

# –ü–æ —Ñ–∞–π–ª–∞–º
pytest tests/unit/test_api.py      # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
pytest tests/integration/         # –í—Å—è –ø–∞–ø–∫–∞

# –° –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏
pytest -v                         # –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
pytest -s                         # –ü–æ–∫–∞–∑–∞—Ç—å print()
pytest --tb=short                 # –ö–æ—Ä–æ—Ç–∫–∏–π traceback
pytest -x                         # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
```

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
```bash
# HTML –æ—Ç—á–µ—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
make test-coverage

# –û—Ç–∫—Ä—ã—Ç—å –æ—Ç—á–µ—Ç
open htmlcov/index.html  # macOS
xdg-open htmlcov/index.html  # Linux
```

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–ó–µ–ª–µ–Ω—ã–π (>90%)** - –æ—Ç–ª–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- **–ñ–µ–ª—Ç—ã–π (75-90%)** - —Ö–æ—Ä–æ—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ  
- **–ö—Ä–∞—Å–Ω—ã–π (<75%)** - —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è

### –¶–µ–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏—è
- **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** >80%
- **Unit —Ç–µ—Å—Ç—ã:** >95% –¥–ª—è core –ª–æ–≥–∏–∫–∏
- **Integration —Ç–µ—Å—Ç—ã:** >70% –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- **E2E —Ç–µ—Å—Ç—ã:** >50% –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
```
tests/
‚îú‚îÄ‚îÄ conftest.py              # –û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ unit/                    # Unit —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_api.py         # –¢–µ—Å—Ç—ã API endpoints
‚îú‚îÄ‚îÄ integration/            # Integration —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_crew_factory.py # –¢–µ—Å—Ç—ã —Ñ–∞–±—Ä–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ e2e/                    # End-to-end —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_full_workflow.py # –ü–æ–ª–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îî‚îÄ‚îÄ fixtures/               # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
```python
# –•–æ—Ä–æ—à–∏–µ –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤
def test_create_research_with_valid_data():
def test_api_returns_422_for_empty_topic():
def test_crew_factory_creates_business_analysis_crew():

# –ü–ª–æ—Ö–∏–µ –∏–º–µ–Ω–∞
def test_api():
def test_success():
def test_1():
```

## üõ†Ô∏è –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### Unit —Ç–µ—Å—Ç - –ø—Ä–∏–º–µ—Ä
```python
@pytest.mark.unit
def test_create_research_basic(client, mock_celery, sample_research_data):
    """–¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"""
    request_data = sample_research_data["basic_request"]
    
    response = client.post("/research", json=request_data)
    
    assert response.status_code == 200
    data = response.json()
    assert "task_id" in data
    assert data["status"] == "PENDING"
```

### Integration —Ç–µ—Å—Ç - –ø—Ä–∏–º–µ—Ä
```python
@pytest.mark.integration
def test_crew_factory_creates_business_crew(mock_llm, mock_tools):
    """–¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏"""
    factory = CrewFactory()
    
    crew = factory.create_business_analysis_crew()
    
    assert crew is not None
    assert len(crew.agents) == 3  # –ê–Ω–∞–ª–∏—Ç–∏–∫ + –§–∏–Ω–∞–Ω—Å–∏—Å—Ç + –°—Ç—Ä–∞—Ç–µ–≥
```

### E2E —Ç–µ—Å—Ç - –ø—Ä–∏–º–µ—Ä
```python
@pytest.mark.e2e
def test_complete_workflow(client, mock_celery, helpers):
    """–¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ workflow –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"""
    # 1. –°–æ–∑–¥–∞–µ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
    response = client.post("/research", json={
        "topic": "Test Research",
        "crew_type": "general"
    })
    task_id = response.json()["task_id"]
    
    # 2. –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    result_response = client.get(f"/result/{task_id}")
    
    assert result_response.status_code == 200
```

## üéõÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

### pytest.ini –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```ini
[tool:pytest]
minversion = 6.0
addopts = 
    -ra                    # –ü–æ–∫–∞–∑–∞—Ç—å –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É
    -q                     # –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º
    --strict-markers       # –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä–∫–µ—Ä–æ–≤
    --tb=short            # –ö–æ—Ä–æ—Ç–∫–∏–π traceback
    --cov=app             # –ü–æ–∫—Ä—ã—Ç–∏–µ –¥–ª—è –ø–∞–ø–∫–∏ app
    --cov-report=html     # HTML –æ—Ç—á–µ—Ç
testpaths = tests         # –ü–∞–ø–∫–∞ —Å —Ç–µ—Å—Ç–∞–º–∏
markers =
    unit: Unit —Ç–µ—Å—Ç—ã
    integration: Integration —Ç–µ—Å—Ç—ã
    e2e: End-to-end —Ç–µ—Å—Ç—ã
    slow: –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

### –§–∏–∫—Å—Ç—É—Ä—ã –≤ conftest.py
```python
@pytest.fixture
def client():
    """FastAPI test client"""
    return TestClient(app)

@pytest.fixture
def sample_research_data():
    """–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π"""
    return {
        "basic_request": {
            "topic": "Test Topic",
            "crew_type": "general"
        }
    }
```

## üîß –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ DO - –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞** —Ç–µ—Å—Ç–æ–≤
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–¥–∏–Ω –∞—Å–ø–µ–∫—Ç** –∑–∞ —Ä–∞–∑
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä–∫–µ—Ä—ã** –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–ú–æ–∫–∞–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (API, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
- **–°–ª–µ–¥—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—É AAA** (Arrange, Act, Assert)
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ç–µ—Å—Ç—ã** –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

### ‚ùå DON'T - –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
- –ù–µ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ API –≤ unit —Ç–µ—Å—Ç–∞—Ö
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –ø–∞–¥–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã
- –ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç—ã —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–º–∏
- –ù–µ –¥—É–±–ª–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É production –∫–æ–¥–∞

### –ü–∞—Ç—Ç–µ—Ä–Ω AAA
```python
def test_example():
    # Arrange (–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
    data = {"topic": "Test"}
    
    # Act (–î–µ–π—Å—Ç–≤–∏–µ)
    response = client.post("/research", json=data)
    
    # Assert (–ü—Ä–æ–≤–µ—Ä–∫–∞)
    assert response.status_code == 200
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –ü–æ–ª–µ–∑–Ω—ã–µ –æ–ø—Ü–∏–∏ pytest
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ print() statements
pytest -s

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
pytest -x

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —É–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã
pytest --lf

# –ü–æ–¥—Ä–æ–±–Ω—ã–π traceback
pytest --tb=long

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/unit/test_api.py::test_health_endpoint
```

### –û—Ç–ª–∞–¥–∫–∞ —Å pdb
```python
def test_example():
    # –¢–æ—á–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    import pdb; pdb.set_trace()
    
    response = client.get("/health")
    assert response.status_code == 200
```

## üîÑ CI/CD Integration

### GitHub Actions –ø—Ä–∏–º–µ—Ä
```yaml
name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'
    - name: Install dependencies
      run: pip install -r requirements.txt
    - name: Run tests
      run: make test-coverage
    - name: Upload coverage
      uses: codecov/codecov-action@v3
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- **Test Coverage:** >80%
- **Test Success Rate:** >95%
- **Test Execution Time:** <5 –º–∏–Ω –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ suite
- **Code Quality:** –ë–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–º–µ—á–∞–Ω–∏–π –ª–∏–Ω—Ç–µ—Ä–∞

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
make test-fast quality

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞  
make test-coverage
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**üî¥ –ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–æ–π `AttributeError`  
**üí° –†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –º–æ–∫–æ–≤

**üî¥ –ü—Ä–æ–±–ª–µ–º–∞:** –ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞  
**üí° –†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–µ–æ—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫ –∫–æ–¥–∞

**üî¥ –ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã  
**üí° –†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä–∫–µ—Ä `@pytest.mark.slow` –∏ –º–æ–∫–∏

**üî¥ –ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ –ø–∞–¥–∞—é—Ç –≤–º–µ—Å—Ç–µ  
**üí° –†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `pytest --help` –¥–ª—è —Å–ø–∏—Å–∫–∞ –æ–ø—Ü–∏–π
- –ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é [pytest.org](https://docs.pytest.org/)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `pytest.log`

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –æ—Å–Ω–æ–≤–∞ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. AI Agent Farm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö —Å–∏—Å—Ç–µ–º—ã.

**–ü–æ–º–Ω–∏—Ç–µ:** –•–æ—Ä–æ—à–∏–µ —Ç–µ—Å—Ç—ã - —ç—Ç–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ –±—É–¥—É—â–µ–µ –ø—Ä–æ–µ–∫—Ç–∞! üöÄ
